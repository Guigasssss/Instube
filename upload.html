<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Postar - Instube</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="top-bar">
    <a href="index.html" class="logo">Instube</a>
    <div class="menu">
        <a href="upload.html">Postar</a>
        <a href="profile.html">Perfil</a>
    </div>
</nav>

<div class="feed">
    <h2>Enviar foto ou vídeo</h2>

    <input type="file" id="arquivo" accept="image/*,video/*" style="margin: 15px 0;">

    <button onclick="enviar()" style="padding: 10px 20px; font-size: 16px;">
        Enviar
    </button>
</div>

<script>
function enviar() {
    alert("Na próxima etapa vamos ativar o sistema de upload de verdade!");
}
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyDCT4HJnQtleK9XDrzxNk9nOy7BqwGF8mI",
    authDomain: "instube-d1155.firebaseapp.com",
    projectId: "instube-d1155",
    storageBucket: "instube-d1155.firebasestorage.app",
    messagingSenderId: "883767491010",
    appId: "1:883767491010:web:78edb1b1ed54a20c837e5
    b"
  };

  // Inicializa Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const storage = firebase.storage();
  const db = firebase.firestore();

  function enviar() {
    const arquivo = document.getElementById('arquivo').files[0];
    if (!arquivo) {
      alert("Escolha um arquivo primeiro!");
      return;
    }

    const storageRef = storage.ref('posts/' + arquivo.name);
    storageRef.put(arquivo).then(() => {
      storageRef.getDownloadURL().then(url => {
        db.collection("posts").add({
          url: url,
          usuario: "@usuario_exemplo",
          timestamp: Date.now()
        }).then(() => {
          alert("Upload realizado com sucesso!");
        });
      });
    });
  }
</script>
</body>
</html>
